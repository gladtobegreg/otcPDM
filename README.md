# OTC Product Database Manager and Random Transaction Generator

## Introduction

A database manager and transaction generator, built using Node.js, intended to provide streamlined utility in a retail environment. The goal of the program is to help create and maintain a database of items and provide some basic but essential functionality.

Using the command line terminal to interact with users, a menu presents each available function of the program. Users may add, edit, and delete items from the database, pull barcodes from an open source barcode API, create printable and easy to view html documents of the entire database, and showcase randomly generated transactions.

## Overview

The README file is meant to fully describe and explain the different functions of the program for potential users and give context to curious readers on how things work. Generally speaking, there are two types of over the counter products which this program is intended to facilitate. We can refer to these two types as OTC products, traditional health and wellness related items, and food products, eligible healthy foods and dietary supplements. Any aspect of the program that needs to distinguish between the two types of products will simply ask the user to specify. The different products are maintained in seperate databases to better serve the majority of scenarios.

The program consists of two executable files: `manage.js` and `random.js`.

`manage.js` presents three main functions that all help maintain the two JSON databases, `food.json` and `otc.json`.
The functions found consist of the following...

	Item Manager
	Database Refresh
	Master List Generator

Item Manager will allow the user to add a new item and update/delete existing items. Each function requiring various questions to be answered to build a complete valid database action. Database Refresh will perform an API call to complete all database items with their respective barcodes and also sort the database by price. Lastly, Master List Generator will create an HTML document that can be easily viewed or printed for reference. The file would be called 'masterListXXXX.html' file, where XXXX would be filled by either 'Otc' or 'Food'.

`random.js` will build an HTML document of randomly pulled items that form a transaction, corresponding to the criteria given by the user. The items are selected randomly using a weight that scales to the prices of all items. This creates realistic and easy to view transactions that may facilitate employee training and point-of-sale system testing. The HTML document would be called 'selectedItems.html'.

## File Directory Structure

A certain file structure is required for the programs to operate. A folder in the main project directory called "images" should contain two more folders, "otc" and "food." These two folders will house all the barcode images tied to database items and may be collected to showcase the items. Another folder is required, "itemArchive," which will contain the JSON files `food.json` and `otc.json` that act as a database for their respective products. If the JSON files do not exist, the program will create them when registering a new item.

	 otcProject	> images > otc  > ...
			  	   	 > food > ...
		 		> itemArchive > ...

## Running the programs

The programs can be executed using Node.js in the command line terminal (or optionally script shortcuts detailed later). To execute any of these programs from the command line, open the Windows File Explorer and navigate to the project directory. From here, type 'cmd' into the address bar, and a command line terminal will open up. The syntax for running a Node.js program is 'node myProgram.js', where 'myProgram' is the name of your program. In our case 'node manage.js' or 'node random.js' would be appropriate.

You can view and edit the JSON database by opening the .json files using any text editor, such as Windows Notepad program.

It may be worth mentioning that if an item has been updated or removed, some dependencies may be interrupted and cause errors. To avoid any conflicts or to troubleshoot a file dependency errors (such as a missing/empty barcode image), be sure to delete all images in the two images folders and then refresh the database using the Database Refresj function of the `manage.js` program. Network and API conditions may require the refresh to be done multiple times but in normal circumstances should work in one go. Similarly, outdated master lists will also require new compilation to stay updated with the newest item details. Simply delete the file 'masterListXXXX.html' file and run the Master List function again to generate an up to date list. The 'selectedItems.html' file generated by the `random.js` program should be considered discardable and always outdated, as it only ever reflects product details generated at a fixed point in time.

## Additional Notes

### Bad characters

I found that certain funny characters in the name of items can mess up certain processes. For example, '?' and '/' will cause issues, where some items will not load barcodes. This is a side effect of the programming language and API calls syntaxes.

### Master List HTML File Printing

When printing the master list HTML page, use a scale factor of about 0.60 for better spacing on a single page. Moreover, consider also adjusting the following values...

	if (i % 3 === 0) {                <--- change the '3' value to adjust the items per line

	flex-basis: 30%; padding: 20px;   <--- change the flex % and the padding px value to adjust spacing

...which can be found in the "menuOption3" section of the askMenuOptionLoop() function.

### Windows Environment Easy Execution

The two batch files (`.bat` file extension) are designed to make the execution aspect of the two programs easy for users by automatically launching/closing the command terminal, running the appropriate commands, and any additional parameters for seamless user interaction. Simply launch the batch script (double-click the icon or highlight and press enter).

An easy way to execute any one of the two batch scripts from the taskbar is to make a cmd.exe shortcut and editing the "target" from...

	%windir%\system32\cmd.exe

	to:

	%windir%\system32\cmd.exe /c C:\Users\User\Desktop\otcProject\manage.bat

...where '/c' closes the cmd windows after exec [or '/k' to keep open].

Also, change "start in" from
its default location to...

	C:\Users\User\Desktop\otcProject\

... where the path is relative to the specific directory structure of the operating computer.

When the cmd shortcut has been changed to match the above syntax,
it can then be added to the task bar and be executed with a single click.